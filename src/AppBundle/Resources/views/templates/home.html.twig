{% extends "AppBundle::layout.html.twig" %}

{% block title %}
    Home - {{ parent() }}
{% endblock %}

{% block body %}

    <div class="head hide-on-small-only">
        <div class="slider home">
            <ul class="slides home">
                <li>
                    <img class="responsive-img" src="{{ asset('uploads/img/slide-home1.jpg') }}"> <!-- random image -->
                </li>
                <li>
                    <img class="responsive-img" src="{{ asset('uploads/img/slide-home2.jpg') }}">
                </li>
                <li>
                    <img class="responsive-img" src="{{ asset('uploads/img/slide-home3.jpg') }}">
                </li>
            </ul>
        </div>
    </div>

    <div class="row">
        <div class="col s12 baseline">
            <h1 class="center-align">Welcome on SnowTricks</h1>
            <h5 class="center-align">- The community platform of the best snowboard tricks -</h5>
        </div>
    </div>

    {% for trick in tricks %}
                <div class="row trick-line">
                    <div class="col s12">
                        {% for trickImage in trick.images %}
                        {% if loop.first %}
                        <div class="col s8">
                            <a href="{{ path('view', {'slug': trick.slug}) }}">
                                <img src="{{ asset(trickImage.webPath) }}" class="responsive-img" alt="{{ trickImage.alt }}">
                            </a>
                        </div>
                {% endif %}
                {% endfor %}
                <div class="col s4">
                    {% if is_granted('ROLE_USER') %}
                        {% include 'AppBundle:templates:menu_edit_user_home.html.twig' %}
                    {% endif %}
        <a href="{{ path('view', {'slug': trick.slug}) }}"><h4 class="left-align black-text">{{ trick.name }}</h4></a>
                    {% for trickCategory in trick.categories %}
                    <div class="chip black white-text">
                        {{ trickCategory.name }}
                    </div>
                    <div class="chip black white-text">
                        {% if trick.author.profilePic is not null %}
                            <img src="{{ asset(trick.author.profilePic.webPath) }}"
                                 alt="{{ trick.author.username }} profile picture">
                            {% else %}
                                <img class="circle" src="{{ asset('uploads/img/avatar.png') }}">
                        {% endif %}
                        By {{ trick.author.username }}
                    </div>
                    <p class="left-align">{{ trick.description|truncate(200, true)}}</p>
                    <a href="{{ path('view', {'slug': trick.slug}) }}" class="waves-effect black btn">
                        Read more
                    </a>
                </div>
            </div>
    </div>
                        <hr class="style12">
                    {% endfor %}
        {% endfor %}
{% endblock %}

